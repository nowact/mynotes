一个分布式系统，存在着你想不到的各种异常情况。这些异常场景主要包括三大块，这也是分布式系统会遇到的三座大山：NPC。

N：Network Delay，网络延迟
P：Process Pause，进程暂停（GC）
C：Clock Drift，时钟漂移


rpc调用保证：重试+幂等

当你在构建一个分布式系统的时候，可能会不由自主地做一些假设，这些假设从长期来看，都是错误的，都会导致大麻烦： 
1. 网络是可靠的 
2. (调用)没有延迟 
3.  无限的带宽 
4. 网络是安全的 
5. (系统)拓扑结构不会改变 
6. 有个管理员在管理这个系统 
7. (数据)传输代价为零 
8. 网络是同质的（同类的）

分布式事务实现要点：
1. 冻结资源+超时释放
2. 远程调用幂等+重试
3. 机器故障：硬盘记录操作日志，重启后恢复


TCC：try (冻结资源)， confrim , cancel(恢复资源)